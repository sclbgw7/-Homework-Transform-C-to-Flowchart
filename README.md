# Transform-C-to-Flowchart

冰岩2020秋招实习任务之一：C语言转换为流程图工具。

请将代码放入code.c中，运行begin.exe（编译main.cpp得到），得到的Flowchart.png即为结果。

尽量给出正常的代码。程序将只有很弱的识别语法错误的功能。

绘图工具：[https://graphviz.org/](https://graphviz.org/)

## 能够处理的程序

请保证程序里只包含如下内容（~~为了我工作的方便~~）： 

（1）基本数据类型的变量，以及数组。不包含指针、结构，枚举等。

（2) 双目算术运算符（+-*/%），关系运算符、逻辑与（&&）、逻辑或（||）、赋值运算符、位运算符、不包含?:表达式。

（3）函数定义与调用(无需提前声明)与宏定义。

（4）表达式语句、复合语句、`if`语句的2种形式、`while`语句、`for`语句，`return`语句、`break`语句、`continue`语句、外部变量声明语句、局部变量声明语句。

（5）注释，包括单行注释和多行注释

（6）所有函数不出现递归，包括宏定义

（7）输入输出只使用如下函数：`scanf`,`printf`,`getchar`

## 详细的任务要求

### 第一层次

> 将C语言代码拆分成词法单元，即完成一个 lexer
>
> 使用DFA或者直接使用正则表达式，构建词法分析器

意思就是，程序能够识别代码中的单词？

正则表达式是啥。。？很有必要吗？

### 第二层次

> 对拆分出来的词法单元进行初步的解析，自己设计一种 json 格式输出流程图中的框与框之间连接信息

百度“设计json格式”无果。。。可以忽略这一步吗😰

### 第三层次

> 构建抽象语法树（AST），并且使用遍历树的方式解析出流程图的连接信息（如上述层次所述）

痛苦地学习AST中，一头雾水

等我学会这玩意后一定要自己写一个教程

### 第四层次

> 可以利用之前的中间信息，也可以在遍历AST的同时，使用 graphviz 完成绘图

### 第五层次

> 不使用 graphviz ，而是使用 Latex 完成绘图